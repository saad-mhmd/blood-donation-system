<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" />
  <!-- Font Nunito -->
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
  <!-- Animate CSS -->

  <link rel="stylesheet" type="text/css" href="../css/style.css" />
  <link rel="shortcut icon" href="imgs/favicon.ico" />
  <title>Register - Bleed To Save</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    body {
      background-image: linear-gradient(#fceeef, #ca9093, white);
      height: 100%;

    }

    .bg-card-testing {
      background-image: linear-gradient(white, rgb(230, 221, 221));
    }
  </style>
</head>

<body>
  <div>
    <!-- Navbar -->
    <nav id="mainNavbar" style="z-index: 12;background-color:#f1e3e4;"
      class="navbar navbar-expand-lg navbar-light fixed-top py-0">
      <div class="container">
        <a href="../index.html" class="img-fluid navbar-brand"><img src="../imgs/nav-logo.png" class="img-hover"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="justify-content-end collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item pr-2">
              <a href="../index.html#intro-slide" class="nav-link">Home</a>
            </li>
            <li class="nav-item pr-2">
              <a href="../index.html#counter" class="nav-link">About us</a>
            </li>
            <li class="nav-item pr-2">
              <a href="../canyoudonate.html" class="nav-link">can you donate?</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Register
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="./donorregister.html">As a Donor</a>
                <a class="dropdown-item" href="./medicalregister.html">As a Medical center</a>
              </div>
            </li>
            <li class="nav-item pr-2">
              <a href="./login.html" class="nav-link">Login</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>

  <!-- Register -->
  <div class="container my-5">
    <h1 style="" class="display-4 section-heading form-gap mb-5 text-center">
      Medical Registration Form
    </h1>
  </div>
  <div class="" style="display: flex; flex-direction: column; justify-content: center;align-items: center;">
    <div class="container col-sm-12 col-md-11 col-lg-9"
      style=" display: flex; justify-content: center; align-items: center;;">
      <section class="container col-md-6  col-sm-10 col-lg-5 col-lg-10 "  >
        <div class=" mb-5 login-form card shadow-lg bg-card-testing w-60 h-50 "
          style="border-radius: 0px 25px 25px 0px;">
          <div class="card-body my-4  ">
            <div class="container ">

              <form id="medical_registration_form">
                <div class="row justify-content-center"   >
                  <div class="form-group col-5 ">
                    <label for="name_medical_center"
                      style="display: flex; justify-content: center; font-weight: bold;">Medical
                      Center Name</label>
                    <input type="tel" class="form-control" id="name_medical_center" placeholder="Medical Center Name"
                      required />
                  </div>
                  <div class="form-group col-5 ">
                    <label for="phone_number">Phone Number</label>
                    <input type="tel" class="form-control" id="phone_number" pattern="^[0-9]{3}-[0-9]{8}$"
                      aria-describedby="phoneHelp" placeholder="Phone Number" required />
                    <small id="phoneHelp" class="mt-2 form-text text-muted">Format: 123-12345678</small>
                  </div>
                </div>
                <div class="row justify-content-center">
                  <div class="form-group col-5 ">
                    <label for="country">Country</label>
                    <select class="form-control" id="country">
                      <option value="" selected disabled>Select Country</option>
                      <option value="country1">Country 1</option>
                      <option value="country2">Country 2</option>
                      <option value="country3">Country 3</option>
                      <option value="country4">Country 4</option>
                    </select>
                  </div>
                  <div class="form-group col-5" id="province-group">
                    <label for="province">Province</label>
                    <select class="form-control" id="province" disabled>
                      <option value="" selected disabled>Select Province</option>
                      <option value="province1">Province 1</option>
                      <option value="province2">Province 2</option>
                      <option value="province3">Province 3</option>
                      <option value="province4">Province 4</option>
                    </select>
                  </div>
                </div>
                
               <div class="row justify-content-center">
                <div class="form-group col-5">
                  <label for="location-type">Location Type</label>
                  <select class="form-control" id="location-type">
                    <option value="address">Address</option>
                    <option value="coordinates">Coordinates</option>
                  </select>
                </div>
                <div class="form-group col-5 " id="address-group">
                  <label for="address">Address</label>
                  <input type="text" class="form-control" id="address" placeholder="Address">
                </div>

               </div>

                
                <div class="form-row" id="coordinates-group" style="display: none;">
                  <div class="form-group col-md-6">
                    <label for="longitude">Longitude</label>
                    <input type="number" step="0.01" class="form-control" id="longitude" placeholder="Longitude">
                  </div>
                  <div class="form-group col-md-6">
                    <label for="latitude">Latitude</label>
                    <input type="number" step="0.01" class="form-control" id="latitude" placeholder="Latitude">
                  </div>
                </div>
                <!-- <div class="form-group">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="auto-fill">
                    <label class="form-check-label" for="auto-fill">Auto fill from GPS</label>
                  </div>
                </div> -->
                <hr>
                <div class="form-group">
                  <table class="text-center mx-auto">
                    <tr>
                      <th style="width: 20%;">Day</th>
                      <th style="width: 10%;"></th>
                      <th style="width: 70%; text-align: center;">Opening Hours</th>
                    </tr>
                    <tr style="border-bottom: 1px solid black;"></tr>
                    <td>
                      <label for="monday">Monday</label>
                    </td>
                    <td style="text-align: center;">
                      <input type="checkbox" id="monday-switch" checked>
                    </td>
                    <td style="text-align: center;">
                      <input type="time" id="monday-open" required> &nbsp;&nbsp;to&nbsp;&nbsp; <input type="time"
                        id="monday-close" required>
                    </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="tuesday">Tuesday</label>
                      </td>
                      <td style="text-align: center;">
                        <input type="checkbox" id="tuesday-switch" checked>
                      </td>
                      <td style="text-align: center;">
                        <input type="time" id="tuesday-open" required> &nbsp;&nbsp;to&nbsp;&nbsp; <input type="time"
                          id="tuesday-close" required>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="wednesday">Wednesday</label>
                      </td>
                      <td style="text-align: center;">
                        <input type="checkbox" id="wednesday-switch" checked>
                      </td>
                      <td style="text-align: center;">
                        <input type="time" id="wednesday-open" required> &nbsp;&nbsp;to&nbsp;&nbsp; <input type="time"
                          id="wednesday-close" required>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="thursday">Thursday</label>
                      </td>
                      <td style="text-align: center;">
                        <input type="checkbox" id="thursday-switch" checked>
                      </td>
                      <td style="text-align: center;">
                        <input type="time" id="thursday-open" required> &nbsp;&nbsp;to&nbsp;&nbsp; <input type="time"
                          id="thursday-close" required>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="friday">Friday</label>
                      </td>
                      <td style="text-align: center;">
                        <input type="checkbox" id="friday-switch" checked>
                      </td>
                      <td style="text-align: center;">
                        <input type="time" id="friday-open" required> &nbsp;&nbsp;to&nbsp;&nbsp; <input type="time"
                          id="friday-close" required>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="saturday">Saturday</label>
                      </td>
                      <td style="text-align: center;">
                        <input type="checkbox" id="saturday-switch" checked>
                      </td>
                      <td style="text-align: center;">
                        <input type="time" id="saturday-open" required> &nbsp;&nbsp;to&nbsp;&nbsp; <input type="time"
                          id="saturday-close" required>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="sunday">Sunday</label>
                      </td>
                      <td style="text-align: center;">
                        <input type="checkbox" id="sunday-switch" checked>
                      </td>
                      <td style="text-align: center;">
                        <input type="time" id="sunday-open" required> &nbsp;&nbsp;to&nbsp;&nbsp; <input type="time"
                          id="sunday-close" required>
                      </td>
                    </tr>
                  </table>
                </div>
                <hr>

                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" placeholder="Email" required />
                </div>
                <div class="form-group">
                  <label for="password">Password</label>
                  <input type="password" class="form-control" id="password" placeholder="Password" minlength="8"
                    required />
                </div>
              </form>
              <div style="display: flex; justify-content: center;">
                <button class="btn  shadow-lg " id="medical_register_btn"
                  style=" padding: 12px 18px; border-radius: 12px;background-color: #df5f65;color: white;font-size: 1.7rem;font-weight: 800;letter-spacing: 1px; ">
                  Register Now
                </button>
              </div>
            </div>
          </div>
      </section>
    </div>
  </div>

  <!-- <script type="module">

    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
    import {
      getFirestore,
      doc,
      getDoc,
      getDocs, //get all documents inside one collection
      setDoc,
      collection,
      addDoc,
      updateDoc,
      deleteDoc,
      deleteField,
      query,
      where,
      orderBy,
    } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyA8nOIlWxr5sazq5PS9Ryax3xcB8vfVSjQ",
      authDomain: "blood-donation-system-0.firebaseapp.com",
      projectId: "blood-donation-system-0",
      storageBucket: "blood-donation-system-0.appspot.com",
      messagingSenderId: "218504344556",
      appId: "1:218504344556:web:7d1e15ef0e0ed89bea46c9",
      measurementId: "G-YP5BN4CEN5"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth();
    console.log(app);


    document.getElementById("medical_registration_form").addEventListener("submit", function () {
      event.preventDefault(); // prevent the form from submitting to the server
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;
      var name_medical_center = document.getElementById("name_medical_center").value;
      var province = document.getElementById("province").value;
      var country = document.getElementById("country").value;
      var phone_number = document.getElementById("phone_number").value;
      // var lastName = document.getElementById("last_name").value;

      //For new registration
      createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          // Signed in 
          const user = userCredential.user;
          console.log(user);
          alert("Registration successfully!!");

          // Save additional user info in Firestore
          const db = getFirestore();
          setDoc(doc(db, "users", user.uid), {
            name_medical_center: name_medical_center,
            email: email,
            phone_number: phone_number,
            country: country,
            province: province
            
          }).then(() => {
            console.log("User information saved!");
          }).catch((error) => {
            console.error("Error writing user information: ", error);
          });
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          // ..
          console.log(errorMessage);
          alert(error);
        });
    });
  </script> -->

  <!-- <script type="module" src="./js/auth.js"></script> -->
  <script type="module" src="./js/saad-auth.js"></script>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>
  <script type="module" src="./js/auth.js"></script>
</body>

</html>